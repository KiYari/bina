<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Stream</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/chat.css}" rel="stylesheet">
</head>
<body>
<div class="chat-container">
    <h1 class="text-center mb-4">ü§ñ AI Chat Stream</h1>

    <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ -->
    <div class="mb-3">
        <label class="form-label fw-bold">–û—Ç–≤–µ—Ç AI:</label>
        <div id="responseArea" class="mb-3">
            <div class="text-muted text-center py-4">
                <div>–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ—Ç–≤–µ—Ç –æ—Ç AI...</div>
                <small class="text-muted">AI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Markdown-—Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</small>
            </div>
        </div>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞ -->
    <div id="typingIndicator" class="typing-indicator">
        <div class="spinner-border spinner-border-sm me-2" role="status"></div>
        AI –Ω–∞–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç...
    </div>

    <!-- –§–æ—Ä–º–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ -->
    <form id="chatForm" class="mb-3">
        <div class="input-group">
            <input type="text"
                   id="userMessage"
                   class="form-control"
                   placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."
                   required
                   th:value="${defaultMessage ?: '–ü—Ä–∏–≤–µ—Ç!'}">
            <button type="submit" class="btn btn-primary px-4">
                <span class="me-2">üì®</span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å
            </button>
        </div>
    </form>

    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="controls">
        <button type="button" id="stopButton" class="btn btn-danger" disabled>
            <span class="me-2">‚èπÔ∏è</span>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
        </button>
        <button type="button" id="clearButton" class="btn btn-secondary">
            <span class="me-2">üóëÔ∏è</span>–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç
        </button>
    </div>
</div>

<script th:src="@{/js/chat.js}"></script>
</body>
</html>